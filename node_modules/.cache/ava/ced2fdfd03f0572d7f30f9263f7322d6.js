'use strict';

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _supertest = require('supertest');

var _supertest2 = _interopRequireDefault(_supertest);

var _app = require('../../app');

var _app2 = _interopRequireDefault(_app);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// test('Get landlord page', async t => {
//     // const input = [{name:'Test', money: 50, properties: []}]

//     const res = await request(app)
//         .get('/landlord')

//     t.is(res.status, 200)
// })


(0, _ava2.default)('Add a landlord', async t => {
    const input = [{ name: 'Test', money: 50, properties: [] }];

    const res = await (0, _supertest2.default)(_app2.default).post('/landlord/add').send(input);

    t.is(res.status, 200);
    t.is(res.name, input.name);
    t.is(res.money, input.money);
    t.deepEqual(res.properties, input.properties);
});

(0, _ava2.default)('Get indiv landlord page', async t => {
    const input = [{ name: 'Test', money: 50, properties: [] }];

    const landlord = (await (0, _supertest2.default)(_app2.default).post('/landlord/add').send(input)).body;

    console.log(landlord);
    console.log(`${landlord.landlordID}`);

    const res = await (0, _supertest2.default)(_app2.default).get(`/landlord/${landlord.landlordID}`);

    t.is(res.status, 200);
    // t.regex(res.text, /Test/)
});
//# sourceMappingURL=../../node_modules/.cache/ava/ced2fdfd03f0572d7f30f9263f7322d6.js.map