'use strict';

var _ava = require('ava');

var _ava2 = _interopRequireDefault(_ava);

var _supertest = require('supertest');

var _supertest2 = _interopRequireDefault(_supertest);

var _app = require('../../app');

var _app2 = _interopRequireDefault(_app);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

(0, _ava2.default)('Add a renter', async t => {
    const input = { name: 'Tester', money: 50, months: ['Jan'], property: ["House"] };

    const res = await (0, _supertest2.default)(_app2.default).post('/renter/add').send(input);

    t.is(res.status, 200);
    t.is(res.body.name, input.name);
    t.is(res.body.money, input.money);
    t.deepEqual(res.body.months, input.months);
    t.deepEqual(res.body.property, input.property);
});

(0, _ava2.default)('Edit a renter', async t => {
    const input = { name: 'Tester', money: 50, months: ['Jan'], property: ["House"]
        // const newInput = {name:'Tester', money: 50, months: ['NewMonth'], property: ["House"]}

    };const creation = (await (0, _supertest2.default)(_app2.default).post('/renter/add').send(input)).body;
    //why do i have to put body here?  
    // is it related to why i don't have to put creation.body.renterID?

    console.log(creation);

    // const newInput = (`${creation.renterID}`, {name:'Tester', money: 50, months: ['NewMonth'], property: ["House"]})
    const newInput = { renterID: creation.renterID, data: { name: 'Tester', money: 50, months: ['NewMonth'], property: ["House"] }

        // console.log(newInput.data)

    };const res = await (0, _supertest2.default)(_app2.default).post('/renter/edit')
    // .send(`${creation.renterID}`, newInput)
    .send(newInput);
    // .send(newInput)

    console.log(res.body);

    t.is(res.status, 200);
    t.is(res.body.name, newInput.data.name);
    t.is(res.body.money, newInput.data.money);
    t.deepEqual(res.body.months, newInput.data.months);
    t.deepEqual(res.body.properties, newInput.data.properties);
});

(0, _ava2.default)('Delete a restaurant', async t => {
    const input = { name: 'Tester', money: 50, months: ['Jan'], property: ["House"] };

    const creation = (await (0, _supertest2.default)(_app2.default).post('/renter/add').send(input)).body;

    const del = await (0, _supertest2.default)(_app2.default).post('/renter/delete').send(creation.renterID);
    //why do i have to use .delete instead of .post('/renter/delete')

    t.is(del.status, 200);
});

// test('Add a renter', async t => {
//     const input = {name:'Test', cost: 10}

//     const res = await request(app)
//         .post('/property/add')
//         .send(input)

//     t.is(res.status, 200)
//     t.is(res.body.name, input.name)
//     t.is(res.body.cost, input.cost)
// })
//# sourceMappingURL=../../node_modules/.cache/ava/17d1796a36c93fa478fe14a94fc83226.js.map